<html>
    <head>
        <style>
            .selected{

                background-color: blue;
            }
        </style>
    </head>
    <body>
        <h1>Closure in JavaScript</h1>
        <h1 id="count"></h1>
        <ul>
            <li class="item">Laptop</li>
            <li class="item">Phone</li>
            <li class="item">Chair </li>
            <li class="item">Charger</li>
            <li class="item">Bike</li>
        </ul>
    
        <script>
            console.log("Closure in JS");
    
            let products = document.getElementsByClassName("item");
            console.log(products);
    
            let cartCounter = (function () {
                let count = 0;
                return {
                    increment: () => count += 1,
                    decrement: () => count -= 1,
                    totalCount: () => count,
                }
            })();
    
            for (let i = 0; i < products.length; i++) {
                products[i].addEventListener("click", function () {
                    console.warn("item is clicked");
    
                    if (this.className.indexOf('selected') < 0) {
                        this.className += ' selected';
                        cartCounter.increment();
                    } else {
                        this.className = this.className.replace(' selected', '');
                        cartCounter.decrement();
                    }
    
                    document.getElementById("count").innerText = `Total Count: ${cartCounter.totalCount()}`;
                });
            }
        </script>
    </body>
    

</html>
